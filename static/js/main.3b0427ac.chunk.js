(this.webpackJsonptiles=this.webpackJsonptiles||[]).push([[0],{115:function(t,e,a){},116:function(t,e,a){},200:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a(15),s=a.n(n),r=a(31),o=a(32),d=a(55),l=a(54),c=(a(115),a(90)),h=a(101),u=a(4),b=a(12),f=a(14),g=a(49);function p(t){return Math.floor(Math.random()*t)}function j(){for(var t=0,e=0;0===t;)t=Math.random();for(;0===e;)e=Math.random();var a=Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e);return(a=a/10+.5)>1||a<0?j():a}function m(t){return Math.floor(j()*t)}function v(t,e,a){for(var i=a.length-1,n=a[0].length-1,s=0,r=Math.max(0,t-1);r<=Math.min(t+1,i);r++)for(var o=Math.max(0,e-1);o<=Math.min(e+1,n);o++)r===t&&o===e||1!==a[r][o]||s++;return s}a(116);var S=a(68),x=a.n(S),O=a(58),w=(a(186),a(98)),M=a.n(w),k=(a(192),a(193),a(194),a(195),a(239)),y=a(237),z=a(236),C=a(235),D=a(2),L=["value","dragging","index"],B=O.b.Handle,T=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={board:[],width:0,height:0,context:null,paused:!0,btnText:"Play",notRestarted:!0,gameSpeed:1,gridLines:!0,darkMode:!0,tileSize:10},n.printLog=function(t){console.log("arg:",t)},n.goLive=function(){n.timeoutID=setTimeout((function(){return n.live()}),n.ticks)},n.draw=function(){var t=n.state.board,e=n.state.context,a=n.state.gridLines;e.beginPath(),n.state.darkMode?(e.fillStyle="black",e.strokeStyle="white"):(e.fillStyle="white",e.strokeStyle="black"),e.fillRect(0,0,n.state.width,n.state.height),e.lineWidth=.1,n.state.darkMode?e.fillStyle="lightblue":e.fillStyle="red";for(var i=t.length,s=t[0].length,r=0;r<i;r++)for(var o=0;o<s;o++)1===t[r][o]&&e.fillRect(o*n.state.tileSize,r*n.state.tileSize,n.state.tileSize,n.state.tileSize),a&&e.strokeRect(o*n.state.tileSize,r*n.state.tileSize,n.state.tileSize,n.state.tileSize);n.setState({context:e})},n.live=function(){if(!n.state.paused){for(var t=n.state.board.length,e=n.state.board[0].length,a=[],i=[],s=0;s<n.state.board.length;s++){var r=n.state.board[s].slice(),o=n.state.board[s].slice();a.push(r),i.push(o)}for(var d=0;d<t;d++)for(var l=0;l<e;l++){switch(v(d,l,a)){case 2:break;case 3:i[d][l]=1;break;default:i[d][l]=0}}n.setState({board:i},n.draw),n.goLive()}},n.update=function(){n.state.notRestarted&&(n.draw(),n.goLive())},n.getCell=function(t,e){return[Math.max(0,Math.min(n.state.board.length-1,Math.floor(e/n.state.tileSize))),Math.max(0,Math.min(n.state.board[0].length-1,Math.floor(t/n.state.tileSize)))]},n.pause=function(){n.state.paused?(n.setState({btnText:"Pause"}),n.setState({paused:!1},n.update)):(n.setState({btnText:"Play"}),n.setState({paused:!0}))},n.seedClusters=function(t,e){for(var a=Object(f.a)(t),i=function(i){for(var s=function(s){e.forEach((function(e){var r=m(n.maxClusterSize),o=function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2));return Math.max(0,(Math.abs(1-i)+a-n)/n)}(e,[i,s],r,n.clusterDensity);o>0&&((Math.random()<=o||e.toString()===[i,s])&&(a[i][s]=1));t[e[0]][e[1]]=1}))},r=0;r<a[0].length;r++)s(r)},s=0;s<a.length;s++)i(s);return a},n.initBoard=function(){for(var t=[],e=Math.floor(n.state.height/n.state.tileSize),a=Math.floor(n.state.width/n.state.tileSize),i=0;i<e;i++){for(var s=[],r=0;r<a;r++)s.push(0);t.push([].concat(s))}n.setState({board:t},n.update)},n.setSpeed=function(){n.ticks=1e3/n.state.gameSpeed,clearTimeout(n.timeoutID),n.timeoutID=setTimeout((function(){return n.live()}),n.ticks)},n.updateSpeed=function(t){n.setState({gameSpeed:n.sliderRanges[t]},n.setSpeed)},n.updateGridLines=function(t){n.setState({gridLines:!n.state.gridLines},n.draw)},n.updateMode=function(t){n.state.darkMode?document.body.style.backgroundColor="white":document.body.style.backgroundColor="black",n.setState({darkMode:!n.state.darkMode},n.draw)},n.updateTileSize=function(t){n.setState({tileSize:t.target.value},n.initBoard),n.draw()},n.canvas=Object(i.createRef)(),n.clusterStarterPercentage=.1,n.maxClusterSize=10,n.clusterDensity=1,n.timeoutID=null,n.sliderRanges={0:.001,1:.01,2:.1,3:1,4:2,5:5,6:10,7:25,8:50,9:100},n.ticks=1e3,n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(g.a)(n)),n}return Object(o.a)(a,[{key:"seedBoard",value:function(){for(var t=Object(f.a)(this.state.board),e=t.length,a=t[0].length,i=this.clusterStarterPercentage/100*(a*e),n=[];i>0;){var s=p(e),r=p(a);1!==t[s][r]&&(t[s][r]=1,n.push([s,r]),i--)}t=this.seedClusters(t,n),this.setState({board:t},this.draw)}},{key:"onClick",value:function(t){var e=s.a.findDOMNode(this).getBoundingClientRect(),a=t.pageX-e.left,i=t.pageY-e.top,n=this.getCell(a,i),r=Object(b.a)(n,2),o=r[0],d=r[1];void 0!==this.state.board&&o<this.state.board.length&&d<this.state.board[0].length&&(1===this.state.board[o][d]?(this.setState({board:x()(this.state.board,Object(u.a)({},o,Object(u.a)({},d,{$set:0})))},this.draw),this.goLive()):(this.setState({board:x()(this.state.board,Object(u.a)({},o,Object(u.a)({},d,{$set:1})))},this.draw),this.goLive()))}},{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions),clearTimeout(this.timeoutID)}},{key:"updateWindowDimensions",value:function(){var t=this.canvas.current.getContext("2d");clearTimeout(this.timeoutID),this.setState({width:window.innerWidth,height:window.innerHeight,context:t},this.initBoard)}},{key:"handle",value:function(t){var e=t.value,a=t.dragging,i=t.index,n=Object(h.a)(t,L);return Object(D.jsx)(O.a,{prefixCls:"rc-slider-tooltip",overlay:{0:"Ultra Slow",1:"Super Slow",2:"Slow",3:"Normal",4:"Slightly Faster",5:"Faster",6:"Fast",7:"Very Fast",8:"Stupid Fast",9:"Why"}[e],visible:a,placement:"top",children:Object(D.jsx)(B,Object(c.a)({value:e},n))},i)}},{key:"render",value:function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)("canvas",{onClick:this.onClick.bind(this),ref:this.canvas,width:.98*this.state.width,height:.98*this.state.height}),Object(D.jsx)(M.a,{cancel:".rc-slider",children:Object(D.jsx)("div",{className:"UIWrapper",children:Object(D.jsxs)(k.a,{container:!0,spacing:2,children:[Object(D.jsx)(k.a,{item:!0,xs:3,children:Object(D.jsx)("button",{className:"genericBtn pausePlay",onMouseDown:this.pause,children:this.state.btnText})}),Object(D.jsx)(k.a,{item:!0,xs:3,children:Object(D.jsx)("button",{className:"genericBtn clusterizeBtn",onMouseDown:this.seedBoard.bind(this),children:"Clusterize"})}),Object(D.jsx)(k.a,{item:!0,xs:3,children:Object(D.jsx)("button",{className:"genericBtn restartBtn",onMouseDown:this.initBoard,children:"Restart"})}),Object(D.jsx)(k.a,{item:!0,xs:3,children:Object(D.jsx)(y.a,{control:Object(D.jsx)(z.a,{defaultChecked:!0}),label:"Show Grid",onChange:this.updateGridLines.bind(this)})}),Object(D.jsx)(k.a,{item:!0,xs:9,children:Object(D.jsx)(C.a,{type:"number",InputProps:{inputProps:{max:Math.floor(this.state.width/10),min:1}},value:this.state.tileSize,onChange:this.updateTileSize.bind(this),label:"Tile Size"})}),Object(D.jsx)(k.a,{item:!0,xs:3,children:Object(D.jsx)(y.a,{control:Object(D.jsx)(z.a,{defaultChecked:!0}),label:"DarkMode",onChange:this.updateMode.bind(this)})}),Object(D.jsx)(k.a,{item:!0,xs:12,children:Object(D.jsx)(O.b,{id:"iAmSpeed",min:0,max:9,marks:this.sliderRanges,defaultValue:3,step:null,onChange:this.updateSpeed.bind(this),handle:this.handle.bind(this)})})]})})})]})}}]),a}(i.Component),R=T,W=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(R,{})})}}]),a}(i.Component),I=W;s.a.render(Object(D.jsx)(I,{}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.3b0427ac.chunk.js.map